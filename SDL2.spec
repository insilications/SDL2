#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
#
%define keepstatic 1
Name     : SDL2
Version  : 2.0.14
Release  : 401
URL      : https://www.libsdl.org/release/SDL2-2.0.14.tar.gz
Source0  : https://www.libsdl.org/release/SDL2-2.0.14.tar.gz
Summary  : Simple DirectMedia Layer
Group    : Development/Tools
License  : GPL-2.0 GPL-3.0 Zlib
BuildRequires : Vulkan-Headers-dev
BuildRequires : Vulkan-Loader-dev
BuildRequires : alsa-lib-dev
BuildRequires : alsa-lib-lib
BuildRequires : alsa-tools
BuildRequires : buildreq-cmake
BuildRequires : buildreq-qmake
BuildRequires : cairo-lib
BuildRequires : ccache
BuildRequires : cuda
BuildRequires : cuda-dev
BuildRequires : cuda-staticdev
BuildRequires : dbus-dev
BuildRequires : findutils
BuildRequires : fontconfig-data
BuildRequires : fontconfig-lib
BuildRequires : freetype-lib
BuildRequires : gcc-dev32
BuildRequires : gcc-libgcc32
BuildRequires : gcc-libstdc++32
BuildRequires : glib
BuildRequires : glib-bin
BuildRequires : glib-data
BuildRequires : glib-dev
BuildRequires : glib-dev32
BuildRequires : glib-lib
BuildRequires : glibc-dev32
BuildRequires : glibc-libc32
BuildRequires : glibc-staticdev
BuildRequires : gtk+-data
BuildRequires : gtk+-lib
BuildRequires : gtk3-lib
BuildRequires : harfbuzz-lib
BuildRequires : icu4c-lib
BuildRequires : libX11-data
BuildRequires : libX11-dev
BuildRequires : libX11-lib
BuildRequires : libXScrnSaver
BuildRequires : libXScrnSaver-dev
BuildRequires : libXScrnSaver-lib
BuildRequires : libXau-lib
BuildRequires : libXcursor-lib
BuildRequires : libXdamage-lib
BuildRequires : libXdmcp-lib
BuildRequires : libXext-lib
BuildRequires : libXft-lib
BuildRequires : libXi-lib
BuildRequires : libXrender-lib
BuildRequires : libXtst-lib
BuildRequires : libXxf86vm-dev
BuildRequires : libXxf86vm-dev32
BuildRequires : libXxf86vm-lib
BuildRequires : libcap-ng-dev
BuildRequires : libdrm-lib
BuildRequires : libffi
BuildRequires : libinput-data
BuildRequires : libinput-lib
BuildRequires : libinput-libexec
BuildRequires : libpciaccess
BuildRequires : libpciaccess-dev
BuildRequires : libpng-lib
BuildRequires : libsamplerate-dev
BuildRequires : libsamplerate-dev32
BuildRequires : libsamplerate-staticdev
BuildRequires : libsamplerate-staticdev32
BuildRequires : libunwind
BuildRequires : libunwind-dev
BuildRequires : libunwind-dev32
BuildRequires : libusb
BuildRequires : libusb-dev
BuildRequires : libusb-dev32
BuildRequires : libxcb-lib
BuildRequires : libxml2-dev
BuildRequires : libxml2-staticdev
BuildRequires : libxvid-staticdev
BuildRequires : libzimg-dev
BuildRequires : libzimg-staticdev
BuildRequires : lz4
BuildRequires : lz4-dev
BuildRequires : lz4-staticdev
BuildRequires : lzo
BuildRequires : lzo-dev
BuildRequires : lzo-staticdev
BuildRequires : mesa
BuildRequires : mesa-demos
BuildRequires : mesa-dev
BuildRequires : mesa-lib
BuildRequires : nvidia
BuildRequires : nvidia-dev
BuildRequires : nvidia-lib
BuildRequires : openssl-lib
BuildRequires : p11-kit
BuildRequires : p11-kit-dev
BuildRequires : pango-lib
BuildRequires : pcre-dev
BuildRequires : pcre-staticdev
BuildRequires : pixman-dev
BuildRequires : pixman-lib
BuildRequires : pixman-staticdev
BuildRequires : pkg-config
BuildRequires : pkgconfig(alsa)
BuildRequires : pkgconfig(alsa-topology)
BuildRequires : pkgconfig(dbus-1)
BuildRequires : pkgconfig(dri)
BuildRequires : pkgconfig(egl)
BuildRequires : pkgconfig(gbm)
BuildRequires : pkgconfig(gl)
BuildRequires : pkgconfig(glesv1_cm)
BuildRequires : pkgconfig(glesv2)
BuildRequires : pkgconfig(libdrm)
BuildRequires : pkgconfig(libpulse-simple)
BuildRequires : pkgconfig(libudev)
BuildRequires : pkgconfig(libunwind)
BuildRequires : pkgconfig(libunwind-coredump)
BuildRequires : pkgconfig(libunwind-generic)
BuildRequires : pkgconfig(libunwind-ptrace)
BuildRequires : pkgconfig(libunwind-setjmp)
BuildRequires : pkgconfig(libusb-1.0)
BuildRequires : pkgconfig(osmesa)
BuildRequires : pkgconfig(samplerate)
BuildRequires : pkgconfig(vulkan)
BuildRequires : pkgconfig(wayland-client)
BuildRequires : pkgconfig(wayland-cursor)
BuildRequires : pkgconfig(wayland-egl)
BuildRequires : pkgconfig(wayland-protocols)
BuildRequires : pkgconfig(wayland-scanner)
BuildRequires : pkgconfig(x11)
BuildRequires : pkgconfig(xatracker)
BuildRequires : pkgconfig(xcursor)
BuildRequires : pkgconfig(xext)
BuildRequires : pkgconfig(xi)
BuildRequires : pkgconfig(xinerama)
BuildRequires : pkgconfig(xkbcommon)
BuildRequires : pkgconfig(xrandr)
BuildRequires : pkgconfig(xscrnsaver)
BuildRequires : pulseaudio
BuildRequires : pulseaudio-dev
BuildRequires : systemd
BuildRequires : systemd-dev
BuildRequires : util-linux
BuildRequires : util-linux-dev
BuildRequires : util-linux-staticdev
BuildRequires : wayland
BuildRequires : wayland-dev
BuildRequires : weston
BuildRequires : wmctrl
BuildRequires : xauth
BuildRequires : xclip
BuildRequires : xdg-desktop-portal
BuildRequires : xdg-desktop-portal-gtk
BuildRequires : xdg-desktop-portal-kde
BuildRequires : xdg-user-dirs
BuildRequires : xdg-user-dirs-gtk
BuildRequires : xdg-utils
BuildRequires : xdotool
BuildRequires : xdpyinfo
BuildRequires : xf86-input-libinput
BuildRequires : xf86-video-amdgpu
BuildRequires : xf86-video-ati
BuildRequires : xf86-video-fbdev
BuildRequires : xf86-video-nouveau
BuildRequires : xf86-video-qxl
BuildRequires : xf86-video-vboxvideo
BuildRequires : xf86-video-vesa
BuildRequires : xf86-video-vmware
BuildRequires : xfontsel
BuildRequires : xhost
BuildRequires : xinit
BuildRequires : xinput
BuildRequires : xkbcomp
BuildRequires : xkeyboard-config
BuildRequires : xkill
BuildRequires : xmodmap
BuildRequires : xorg-server
BuildRequires : xorg-server-dev
BuildRequires : xorgproto
BuildRequires : xorgproto-dev
BuildRequires : xprop
BuildRequires : xrandr
BuildRequires : xrdb
BuildRequires : xrdp
BuildRequires : xrestop
BuildRequires : xsel
BuildRequires : xset
BuildRequires : xsetroot
BuildRequires : xvfb-run
BuildRequires : xwd
BuildRequires : xwininfo
BuildRequires : xz
BuildRequires : xz-dev
BuildRequires : xz-staticdev
BuildRequires : zlib
BuildRequires : zlib-dev
BuildRequires : zlib-staticdev
BuildRequires : zstd-dev
BuildRequires : zstd-staticdev
# Suppress stripping binaries
%define __strip /bin/true
%define debug_package %{nil}

%description
This is the Simple DirectMedia Layer, a generic API that provides low
level access to audio, keyboard, mouse, and display framebuffer across
multiple platforms.

%prep
%setup -q -n SDL2-2.0.14
cd %{_builddir}/SDL2-2.0.14

%build
unset http_proxy
unset https_proxy
unset no_proxy
export SSL_CERT_FILE=/var/cache/ca-certs/anchors/ca-certificates.crt
export LANG=C.UTF-8
export SOURCE_DATE_EPOCH=1620971671
mkdir -p clr-build
pushd clr-build
export GCC_IGNORE_WERROR=1
%cmake ..   -DCMAKE_BUILD_TYPE=Release \
-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON \
-DSDL_SHARED:BOOL=ON \
-DSDL_STATIC:BOOL=ON \
-DALSA:BOOL=ON \
-DALSA_SHARED:BOOL=ON \
-DPULSEAUDIO:BOOL=ON \
-DPULSEAUDIO_SHARED:BOOL=ON \
-DLIBSAMPLERATE:BOOL=ON \
-DVIDEO_OPENGL:BOOL=ON \
-DVIDEO_OPENGLES:BOOL=ON \
-DVIDEO_X11:BOOL=ON \
-DX11_SHARED:BOOL=OFF \
-DBUILD_TOOLS=ON \
-DSDL_TEST:BOOL=ON \
-DSDL_DLOPEN:BOOL=ON \
-DVIDEO_VULKAN:BOOL=ON \
-DSDL_VIDEO_VULKAN:BOOL=ON \
-DASSEMBLY:BOOL=ON \
-DSSEMATH:BOOL=ON \
-DVIDEO_WAYLAND:BOOL=ON \
-DPTHREADS:BOOL=ON \
-DASSERTIONS=disabled \
-DSSE3:BOOL=ON \
-DSSEMATH:BOOL=ON \
-DSDL_TEST:BOOL=ON
## make_prepend content
sd "/usr/lib64/libsamplerate.so" "-Wl,--whole-archive /usr/lib64/libsamplerate.a -Wl,--no-whole-archive" $(fd -uu link.txt)
sd "-lsamplerate" "-Wl,--whole-archive /usr/lib64/libsamplerate.a -Wl,--no-whole-archive" $(fd -uu link.txt)
## make_prepend end
make  %{?_smp_mflags}  V=1 VERBOSE=1 V=1 VERBOSE=1
popd

%install
export SOURCE_DATE_EPOCH=1620971671
rm -rf %{buildroot}
## install_prepend content
#pushd clr-build
#if [ -f "sdl2.pc" ]; then
#    cp sdl2.pc test/sdl2.pc
#fi
#if [ -f "sdl2-config" ]; then
#    cp sdl2-config test/sdl2-config
#fi
#if [ -f "../sdl2.m4" ]; then
#    cp ../sdl2.m4 test/sdl2.m4
#fi
#if [ -f "../sdl2.m4" ]; then
#    cp ../sdl2.m4 ../test/sdl2.m4
#fi
#popd
## install_prepend end
pushd clr-build
%make_install
popd

%files
%defattr(-,root,root,-)
